<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Probation Period Tracker</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; }
    label { display: block; margin: 15px 0 5px; }
    input, button { padding: 8px; font-size: 16px; }
    .note { color: green; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>
    <header>
    <h1>üåê HRMS Workflow System</h1>
    <p>Manage interviews, pre-joining, training, and more!</p>
  </header>

<h2>Probation Period Tracker</h2>

<label>Enter Joining Date:</label>
<input type="date" id="joiningDate" />
<br />
<button onclick="startProbation()">Start Probation</button>

<p class="note" id="probationStatus"></p>

<script>
  function startProbation() {
    const dateInput = document.getElementById("joiningDate").value;
    if (!dateInput) {
      alert("Please select a valid joining date.");
      return;
    }

    // Store joining date in localStorage
    localStorage.setItem("joiningDate", dateInput);
    localStorage.setItem("probationStatus", "InProgress");
    alert("Probation started from: " + dateInput);
    checkProbationStatus();
  }

  function checkProbationStatus() {
    const storedDate = localStorage.getItem("joiningDate");
    const status = localStorage.getItem("probationStatus");
    const display = document.getElementById("probationStatus");

    if (!storedDate) {
      display.textContent = "No probation started yet.";
      return;
    }

    const joinDate = new Date(storedDate);
    const today = new Date();

    // 6 months = ~182.5 days
    const sixMonthsLater = new Date(joinDate);
    sixMonthsLater.setMonth(joinDate.getMonth() + 6);

    if (today >= sixMonthsLater && status !== "Completed") {
      // Mark probation complete
      localStorage.setItem("probationStatus", "Completed");
      display.textContent = "‚úÖ Probation Completed. Notification sent to HR.";

      // Simulate email
      alert("Auto Email Sent to HR: Probation completed for employee who joined on " + storedDate);
    } else if (status === "Completed") {
      display.textContent = "‚úÖ Probation already marked as completed.";
    } else {
      const daysLeft = Math.ceil((sixMonthsLater - today) / (1000 * 60 * 60 * 24));
      display.textContent = `‚è≥ Probation ongoing. ${daysLeft} day(s) left until completion.`;
    }
  }

  // Auto check on load
  window.onload = checkProbationStatus;
</script>
<footer>
    &copy; 2025 HRMS System | Designed to make things easier
  </footer>

</body>
</html>
